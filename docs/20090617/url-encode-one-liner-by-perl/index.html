
<html>
<head>
<title>テキストファイルを URL エンコードして保存する perl のワンライナー - OTCHY.NET</title>
<link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/mini.css/3.0.1/mini-default.min.css>
<meta name=viewport content="width=device-width,initial-scale=1">
<style>:root{--back-color:#fff}.prev{text-align:left}.prev::before{transform:rotateZ(180deg)}.next{text-align:right}.next::after,.prev::before{display:inline-block;content:"➤"}</style>
</head>
<body>
<header class="sticky row">
<div class="col-sm-12 col-md-10 col-md-offset-1">
<a href=/ class=button>Home</a>
<a href=/javascript/ class=button>JavaScript</a>
<a href=/greasemonkey/ class=button>Greasemonkey</a>
<a href=/php/ class=button>PHP</a>
</div>
</header>
<main class=container>
<div class=row>
<div class="col-sm-12 col-md-10 col-md-offset-1">
<h1>テキストファイルを URL エンコードして保存する perl のワンライナー</h1>
<hr>
</div>
</div>
<div class=row>
<div class="col-sm-12 col-md-10 col-md-offset-1">
<pre>cat list.txt | perl -ne 's/([^\w ])/"%".unpack("H2",$1)/eg;s/ /\+/g;print;print "\n";' > result.txt</pre>
<br>
上記の例は、タイトル通り list.txt の内容を result.txt として保存する例ですが、標準入力の内容を URL エンコードして標準出力に吐いているので、他にも応用が利くかと思います。<br>
<br>
Linux で使う事がほとんどだと思うので、Linux 版です。<br>
Windows の場合、引数をダブルクォートでくくったほうがうまくいったのですが、Linux 上では、逆にシングルクォートじゃないとダメでした。
</div>
</div>
<div class=row>
<div class="col-sm-12 col-md-10 col-md-offset-1">
<hr>
カテゴリ:
<a href=/category/dev/ >Development</a>
タグ:
<a href=/tag/perl/ >perl</a>
</div>
</div>
<div class=row>
<div class="col-sm-12 col-md-10 col-md-offset-1">
<hr>
</div>
<div class="col-sm-12 col-md-10 col-md-offset-1 col-lg-5 col-lg-offset-1 prev">
<a href=/20090604/dosei3-on-twitter-released/ >Twitter 上のどせいさんの素敵なお言葉をいつものフォントで表示するグリモン</a>
</div>
<div class="col-sm-12 col-md-10 col-md-offset-1 col-lg-5 col-lg-offset-0 next">
<a href=/20090622/rate-of-information-throughput-and-reliability/ >情報伝達速度と信頼性</a>
</div>
</div>
</main>
<footer>
<div class="col-sm-12 col-md-10 col-md-offset-1">
Copyright © OTCHY.NET authored by <a href=https://twitter.com/otchy target=_blank>@otchy</a>
</div>
</footer>
</body>
</html>
